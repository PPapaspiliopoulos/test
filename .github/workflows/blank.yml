name: build

on: [push]

jobs:
  B:
    runs-on: ubuntu-latest
    steps:
      - name: fail
        run:  test= te
  A:
    runs-on: ubuntu-latest
    environment: ${{ (jobs.B.result == 'success') && ('prod') || ('dev') }}
    steps:
      - name: Check identity
        run: |
          echo "A prod = ${{ vars.A }}"
          echo "B dev = ${{ vars.B }}"
